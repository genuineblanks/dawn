{% comment %}
  TechPack V11 - Quotation Step 3: Garment Builder (Visual Card Selection)
  Purpose: Select garment types and fabrics using visual image cards
  Flow: Add Garment → Select Type → Select Fabric → Added to List
{% endcomment %}

{{ 'techpack-v11-base.css' | asset_url | stylesheet_tag }}
{{ 'techpack-v11-flow.css' | asset_url | stylesheet_tag }}
{{ 'techpack-v11-forms.css' | asset_url | stylesheet_tag }}

<div class="techpack-v11 techpack-flow" data-section-id="{{ section.id }}" data-flow-type="quotation" data-current-step="3">

  {%- comment -%} TEST MODE BANNER {%- endcomment -%}
  <div class="test-mode-banner" id="testModeBanner" style="display: none;">
    <div class="test-mode-banner__content">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <div>
        <strong>TEST MODE ACTIVE</strong>
        <p>3 test garments auto-added for testing.</p>
      </div>
    </div>
  </div>

  {%- comment -%} Progress Header {%- endcomment -%}
  <div class="techpack-progress">
    <div class="techpack-progress__container">
      <button type="button" class="techpack-progress__back" data-action="previous-step">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Back</span>
      </button>

      <div class="techpack-progress__steps">
        <div class="progress-step progress-step--complete" data-step="1">
          <div class="progress-step__circle">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="progress-step__label">Client Info</div>
        </div>
        <div class="progress-step__line"></div>
        <div class="progress-step progress-step--complete" data-step="2">
          <div class="progress-step__circle">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div class="progress-step__label">Files</div>
        </div>
        <div class="progress-step__line"></div>
        <div class="progress-step progress-step--active" data-step="3">
          <div class="progress-step__circle">3</div>
          <div class="progress-step__label">Garments</div>
        </div>
        <div class="progress-step__line"></div>
        <div class="progress-step" data-step="4">
          <div class="progress-step__circle">4</div>
          <div class="progress-step__label">Review</div>
        </div>
      </div>

      <div class="techpack-progress__save">
        <div class="save-indicator" id="saveIndicator">
          <svg class="save-indicator__icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="save-indicator__text">All saved</span>
        </div>
      </div>
    </div>
  </div>

  {%- comment -%} Main Content {%- endcomment -%}
  <div class="techpack-content">
    <div class="techpack-content__container techpack-content__container--wide">

      {%- comment -%} Step Header {%- endcomment -%}
      <header class="step-header">
        <div class="step-header__badge">Step 3 of 4</div>
        <h1 class="step-header__title">Build Your Garment List</h1>
        <p class="step-header__description">
          Add garments by selecting type and fabric composition
        </p>
      </header>

      {%- comment -%} IMPORTANT INFO BOX {%- endcomment -%}
      <div class="info-card info-card--primary">
        <div class="info-card__icon">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            <path d="M12 16v-4m0-4h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="info-card__content">
          <h4 class="info-card__title">Important: Quote Specifications</h4>
          <p class="info-card__text">
            • Only garments configured here will be quoted<br>
            • Add separate garment for each design variation (different fabrics/colors)<br>
            • Your TechPack provides reference only
          </p>
        </div>
      </div>

      {%- comment -%} GARMENT LIST (Always Visible) {%- endcomment -%}
      <div class="form-section" id="garmentListSection">
        <div class="section-header">
          <div class="section-header__title-row">
            <h3 class="section-header__title">Your Garments</h3>
            <span class="garment-count" id="garmentCount">0 garments</span>
          </div>
        </div>

        {%- comment -%} Empty State {%- endcomment -%}
        <div class="empty-state" id="emptyState">
          <div class="empty-state__icon">
            <svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M16 20L20 16L32 20L44 16L48 20V48H16V20Z" stroke="currentColor" stroke-width="2"/>
              <path d="M20 16V20M44 16V20M16 26H48" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <h4 class="empty-state__title">No garments added yet</h4>
          <p class="empty-state__description">
            Click "Add Garment" below to start building your quotation
          </p>
        </div>

        {%- comment -%} Garment List {%- endcomment -%}
        <div class="garment-list" id="garmentList" style="display: none;"></div>
      </div>

      {%- comment -%} ADD GARMENT BUTTON (Default State) {%- endcomment -%}
      <div class="form-section" id="addGarmentSection">
        <button type="button" class="button-add-garment" data-action="start-adding-garment">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 5v14m-7-7h14" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
          </svg>
          <span id="addGarmentButtonText">Add Garment</span>
        </button>
      </div>

      {%- comment -%} STEP 1: Garment Type Selection (Hidden Initially) {%- endcomment -%}
      <div class="selection-step" id="garmentTypeStep" style="display: none;">
        <div class="form-section">
          <div class="section-header">
            <h3 class="section-header__title">Select Garment Type</h3>
            <p class="section-header__description">Choose which garment you want to add</p>
          </div>

          <div class="selection-grid selection-grid--visual">

            {%- comment -%} T-Shirt {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="T-Shirt" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 26L26 20L60 26L94 20L100 26V100H20V26Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <path d="M26 20V26M94 20V26M20 40H100" stroke="currentColor" stroke-width="3"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">T-Shirt</h4>
              </div>
            </button>

            {%- comment -%} Long Sleeve {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Long Sleeve" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 26L26 20L60 26L94 20L100 26V100H20V26Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <path d="M20 26L10 40V80L20 75M100 26L110 40V80L100 75" stroke="currentColor" stroke-width="3"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Long Sleeve</h4>
              </div>
            </button>

            {%- comment -%} Tank Top {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Tank Top" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M36 23L45 20H75L84 23V100H36V23Z" stroke="currentColor" stroke-width="3" fill="none"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Tank Top</h4>
              </div>
            </button>

            {%- comment -%} Polo Shirt {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Polo Shirt" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 26L26 20L60 26L94 20L100 26V100H20V26Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <rect x="50" y="23" width="20" height="10" stroke="currentColor" stroke-width="3"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Polo Shirt</h4>
              </div>
            </button>

            {%- comment -%} Shirt {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Shirt" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M18 28L24 20L60 24L96 20L102 28V102H18V28Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <path d="M60 24V102M40 44H80M40 64H80" stroke="currentColor" stroke-width="2.5"/>
                  <circle cx="48" cy="54" r="2" fill="currentColor"/>
                  <circle cx="72" cy="54" r="2" fill="currentColor"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Shirt</h4>
              </div>
            </button>

            {%- comment -%} Hoodie {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Hoodie" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16 30L26 20L60 23L94 20L104 30V103H16V30Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <path d="M45 20Q60 10 75 20" stroke="currentColor" stroke-width="3"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Hoodie</h4>
              </div>
            </button>

            {%- comment -%} Zip Hoodie {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Zip Hoodie" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16 30L26 20L60 23L94 20L104 30V103H16V30Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <path d="M45 20Q60 10 75 20M60 23V103" stroke="currentColor" stroke-width="3"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Zip Hoodie</h4>
              </div>
            </button>

            {%- comment -%} Sweatshirt {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Sweatshirt" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M16 30L26 20L60 26L94 20L104 30V103H16V30Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <circle cx="60" cy="60" r="8" stroke="currentColor" stroke-width="3"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Sweatshirt</h4>
              </div>
            </button>

            {%- comment -%} Sweatpants {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Sweatpants" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M30 20H90V80L75 100H45L30 80V20Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <path d="M60 20V100M30 50H90" stroke="currentColor" stroke-width="2.5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Sweatpants</h4>
              </div>
            </button>

            {%- comment -%} Shorts {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Shorts" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M30 25H90V65L75 75H45L30 65V25Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <path d="M60 25V75" stroke="currentColor" stroke-width="3"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Shorts</h4>
              </div>
            </button>

            {%- comment -%} Hat/Cap {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Hat/Cap" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 60C20 45 35 30 60 30C85 30 100 45 100 60V70H20V60Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <ellipse cx="60" cy="70" rx="50" ry="8" stroke="currentColor" stroke-width="3" fill="none"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Hat/Cap</h4>
              </div>
            </button>

            {%- comment -%} Beanie {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Beanie" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M25 70C25 50 40 35 60 35C80 35 95 50 95 70V80H25V70Z" stroke="currentColor" stroke-width="3" fill="none"/>
                  <path d="M30 60H90M35 50H85" stroke="currentColor" stroke-width="2.5"/>
                  <circle cx="60" cy="35" r="5" stroke="currentColor" stroke-width="3" fill="none"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Beanie</h4>
              </div>
            </button>

            {%- comment -%} Other {%- endcomment -%}
            <button type="button" class="selection-card--visual" data-garment-type="Other" data-action="select-garment-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <circle cx="60" cy="60" r="5" fill="currentColor"/>
                  <circle cx="40" cy="60" r="5" fill="currentColor"/>
                  <circle cx="80" cy="60" r="5" fill="currentColor"/>
                  <circle cx="60" cy="40" r="5" fill="currentColor"/>
                  <circle cx="60" cy="80" r="5" fill="currentColor"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Other</h4>
              </div>
            </button>

          </div>
        </div>
      </div>

      {%- comment -%} STEP 2: Fabric Selection (Hidden Initially) {%- endcomment -%}
      <div class="selection-step" id="fabricTypeStep" style="display: none;">
        <div class="form-section">
          <div class="section-header">
            <div class="section-header__title-row">
              <h3 class="section-header__title" id="fabricStepTitle">Select Fabric</h3>
              <button type="button" class="button-link" data-action="back-to-garment-types">
                ← Back to garment types
              </button>
            </div>
            <p class="section-header__description" id="fabricStepDescription">Choose the fabric composition</p>
          </div>

          <div class="selection-grid selection-grid--visual" id="quotationFabricGrid">

            {%- comment -%} 100% Organic Cotton Brushed Fleece {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Organic Cotton Brushed Fleece" data-garment-types="Zip Hoodie,Hoodie,Sweatshirt,Sweatpants,Shorts" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Organic Cotton Brushed Fleece</h4>
              </div>
            </button>

            {%- comment -%} 100% Organic Cotton French Terry {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Organic Cotton French Terry" data-garment-types="Zip Hoodie,Hoodie,Sweatshirt,Sweatpants,Shorts" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Organic Cotton French Terry</h4>
              </div>
            </button>

            {%- comment -%} 70/30 Cotton-Poly {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="70/30 Cotton-Poly" data-garment-types="Zip Hoodie,Hoodie,Sweatshirt,Sweatpants,Shorts" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">70/30 Cotton-Poly</h4>
              </div>
            </button>

            {%- comment -%} 50/50 Cotton-Poly {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="50/50 Cotton-Poly" data-garment-types="Zip Hoodie,Hoodie,Sweatshirt,Sweatpants,Shorts,T-Shirt,Long Sleeve,Polo Shirt,Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">50/50 Cotton-Poly</h4>
              </div>
            </button>

            {%- comment -%} 100% Polyester {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Polyester" data-garment-types="Zip Hoodie,Hoodie,Sweatshirt,Sweatpants,Shorts,T-Shirt,Long Sleeve,Polo Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Polyester</h4>
              </div>
            </button>

            {%- comment -%} 100% Organic Cotton Jersey {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Organic Cotton Jersey" data-garment-types="T-Shirt,Long Sleeve" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Organic Cotton Jersey</h4>
              </div>
            </button>

            {%- comment -%} 95% Cotton 5% Elastan {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="95% Cotton 5% Elastan" data-garment-types="T-Shirt,Long Sleeve" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">95% Cotton 5% Elastan</h4>
              </div>
            </button>

            {%- comment -%} 80/20 Cotton-Poly {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="80/20 Cotton-Poly" data-garment-types="T-Shirt,Long Sleeve,Shirt,Polo Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">80/20 Cotton-Poly</h4>
              </div>
            </button>

            {%- comment -%} Recycled Polyester {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="Recycled Polyester" data-garment-types="T-Shirt,Long Sleeve" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Recycled Polyester</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton Poplin {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton Poplin" data-garment-types="Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton Poplin</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton Oxford {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton Oxford" data-garment-types="Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton Oxford</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton Twill {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton Twill" data-garment-types="Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton Twill</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton Canvas {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton Canvas" data-garment-types="Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton Canvas</h4>
              </div>
            </button>

            {%- comment -%} 100% Linen {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Linen" data-garment-types="Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Linen</h4>
              </div>
            </button>

            {%- comment -%} 55% Hemp / 45% Cotton {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="55% Hemp / 45% Cotton" data-garment-types="Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">55% Hemp / 45% Cotton</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton Piqué {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton Piqué" data-garment-types="Polo Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton Piqué</h4>
              </div>
            </button>

            {%- comment -%} 95/5 Cotton-Elastane Piqué {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="95/5 Cotton-Elastane Piqué" data-garment-types="Polo Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">95/5 Cotton-Elastane Piqué</h4>
              </div>
            </button>

            {%- comment -%} 80/20 Cotton-Poly Piqué {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="80/20 Cotton-Poly Piqué" data-garment-types="Polo Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">80/20 Cotton-Poly Piqué</h4>
              </div>
            </button>

            {%- comment -%} 50/50 Cotton-Poly Piqué {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="50/50 Cotton-Poly Piqué" data-garment-types="Polo Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">50/50 Cotton-Poly Piqué</h4>
              </div>
            </button>

            {%- comment -%} 100% Polyester Piqué {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Polyester Piqué" data-garment-types="Polo Shirt" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Polyester Piqué</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton Jersey (Tank Top) {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton Jersey" data-garment-types="Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton Jersey</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton Slub Jersey {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton Slub Jersey" data-garment-types="Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton Slub Jersey</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton Waffle Knit {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton Waffle Knit" data-garment-types="Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton Waffle Knit</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton Lightweight French Terry {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton Lightweight French Terry" data-garment-types="Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton Lightweight French Terry</h4>
              </div>
            </button>

            {%- comment -%} 100% Cotton 2x2 Rib Knit {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Cotton 2x2 Rib Knit" data-garment-types="Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Cotton 2x2 Rib Knit</h4>
              </div>
            </button>

            {%- comment -%} 95/5 Cotton-Elastane Jersey {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="95/5 Cotton-Elastane Jersey" data-garment-types="Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">95/5 Cotton-Elastane Jersey</h4>
              </div>
            </button>

            {%- comment -%} 50/50 Cotton-Poly Jersey {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="50/50 Cotton-Poly Jersey" data-garment-types="Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">50/50 Cotton-Poly Jersey</h4>
              </div>
            </button>

            {%- comment -%} 100% Polyester Mesh {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="100% Polyester Mesh" data-garment-types="Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">100% Polyester Mesh</h4>
              </div>
            </button>

            {%- comment -%} 65/35 Polyester-Cotton Piqué Knit {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="65/35 Polyester-Cotton Piqué Knit" data-garment-types="Tank Top" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">65/35 Polyester-Cotton Piqué Knit</h4>
              </div>
            </button>

            {%- comment -%} Standard Material (Accessories) {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="Standard Material" data-garment-types="Hat/Cap,Beanie" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Standard Material</h4>
              </div>
            </button>

            {%- comment -%} Custom Fabric (Other garment type) {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="Custom Fabric" data-garment-types="Other" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Custom Fabric</h4>
              </div>
            </button>

            {%- comment -%} Other (Always Available) {%- endcomment -%}
                        <button type="button" class="selection-card--visual fabric-option" data-fabric-type="Other" data-garment-types="Zip Hoodie,Hoodie,Sweatshirt,Sweatpants,Shorts,T-Shirt,Long Sleeve,Shirt,Polo Shirt,Tank Top,Hat/Cap,Beanie,Other" data-action="select-fabric-type">
              <div class="selection-card--visual__image">
                <svg class="selection-card--visual__placeholder" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect x="20" y="20" width="80" height="80" stroke="currentColor" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                </svg>
              </div>
              <div class="selection-card--visual__content">
                <h4 class="selection-card--visual__title">Other</h4>
              </div>
            </button>

          </div>
        </div>
      </div>

      {%- comment -%} Form Navigation {%- endcomment -%}
      <div class="form-navigation">
        <button
          type="button"
          class="button-secondary"
          data-action="previous-step"
        >
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Back to Files
        </button>

        <button
          type="button"
          class="button-primary"
          data-action="next-step"
          id="continueToReviewButton"
        >
          Continue to Review
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>

    </div>
  </div>

</div>

<script>
  window.TECHPACK_V11_CUSTOMER = {
    isLoggedIn: {{ customer | json }} !== null
  };
</script>

{% render 'techpack-v11-theme-switcher' %}

<script src="{{ 'techpack-v11-core.js' | asset_url }}" defer></script>
<script src="{{ 'techpack-v11-actions.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "TP V11 Quote Step 3",
  "class": "section-techpack-v11-step",
  "settings": [
    {
      "type": "header",
      "content": "Step Configuration"
    }
  ],
  "presets": [
    {
      "name": "TechPack V11 - Quotation Step 3"
    }
  ]
}
{% endschema %}
