{% comment %}
Tech-Pack Step 3: Garment Specifications Section
{% endcomment %}

{{ 'techpack-unified-styles.css' | asset_url | stylesheet_tag }}

<section id="techpack-step-3" class="techpack-step" data-step="3" style="display: none;">
  <div class="techpack-container">
    <div class="techpack-progress">
      <div class="techpack-progress__bar">
        <div class="techpack-progress__fill" style="width: 75%"></div>
      </div>
      <div class="techpack-progress__steps">
        <div class="techpack-progress__step techpack-progress__step--completed">
          <div class="techpack-progress__step-circle techpack-progress__step-circle--completed">‚úì</div>
          <div class="techpack-progress__step-label">Client Info</div>
        </div>
        <div class="techpack-progress__step techpack-progress__step--completed">
          <div class="techpack-progress__step-circle techpack-progress__step-circle--completed">‚úì</div>
          <div class="techpack-progress__step-label">File Upload</div>
        </div>
        <div class="techpack-progress__step techpack-progress__step--active">
          <div class="techpack-progress__step-circle techpack-progress__step-circle--active">3</div>
          <div class="techpack-progress__step-label">Garment Details</div>
        </div>
        <div class="techpack-progress__step">
          <div class="techpack-progress__step-circle">4</div>
          <div class="techpack-progress__step-label">Review</div>
        </div>
      </div>
    </div>

    <div class="techpack-content">
      <h2 class="techpack-title">Garment Specifications</h2>
      <p class="techpack-subtitle" id="step-3-subtitle">Define your garment details and quantity requirements</p>

      <!-- Sample Options Section (shown only for sample requests) -->
      <div class="techpack-sample-options" id="sample-options-section" style="display: none;">
        <h3 class="techpack-sample-options__title">Sample Options ‚Äì Choose the type(s) of sample you want to receive</h3>
        <p class="techpack-sample-options__subtitle">You can select one, two, or all three options based on your needs.</p>
        
        <div class="techpack-sample-options__grid">
          
          <!-- Option 1: Black/Raw Sample Garment -->
          <div class="techpack-sample-option" data-option="black-raw">
            <div class="techpack-sample-option__header">
              <label class="techpack-sample-option__checkbox-wrapper">
                <input type="checkbox" class="techpack-sample-option__checkbox" id="sample-black-raw">
                <span class="techpack-sample-option__checkmark"></span>
                <span class="techpack-sample-option__title">üî≤ Black / Raw Sample Garment (Fastest)</span>
                <button type="button" class="techpack-tooltip-trigger" data-tooltip="why-black-raw">
                  <svg width="16" height="16" viewBox="0 0 16 16">
                    <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    <circle cx="8" cy="6" r="1" fill="currentColor"/>
                    <path d="M8 8.5v3" stroke="currentColor" stroke-width="1.5"/>
                  </svg>
                </button>
              </label>
            </div>
            
            <div class="techpack-sample-option__content" style="display: none;">
              <div class="techpack-form__row">
                <div class="techpack-form__group">
                  <label class="techpack-form__label">Choose fabric color</label>
                  <select class="techpack-form__select" id="sample-fabric-color">
                    <option value="">Select fabric color...</option>
                    <option value="black">Black</option>
                    <option value="raw">Raw (natural)</option>
                  </select>
                </div>
                <div class="techpack-form__group">
                  <label class="techpack-form__label">Sample size</label>
                  <select class="techpack-form__select" id="sample-black-raw-size">
                    <option value="">Select size...</option>
                    <option value="xxs">XXS</option>
                    <option value="xs">XS</option>
                    <option value="s">S</option>
                    <option value="m">M</option>
                    <option value="l">L</option>
                    <option value="xl">XL</option>
                    <option value="xxl">XXL</option>
                  </select>
                </div>
              </div>
              
              <div class="techpack-sample-option__description">
                <svg class="techpack-sample-option__icon" width="16" height="16" viewBox="0 0 16 16">
                  <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5" fill="none"/>
                  <path d="M8 5v3l2 2" stroke="currentColor" stroke-width="1.5" fill="none"/>
                </svg>
                <p>This option uses in-stock fabric to quickly produce your garment. Ideal to validate fit and construction. <strong>~1‚Äì2 week lead time.</strong></p>
              </div>
            </div>
          </div>

          <!-- Option 2: Lab Dip Swatches -->
          <div class="techpack-sample-option" data-option="lab-dip">
            <div class="techpack-sample-option__header">
              <label class="techpack-sample-option__checkbox-wrapper">
                <input type="checkbox" class="techpack-sample-option__checkbox" id="sample-lab-dip">
                <span class="techpack-sample-option__checkmark"></span>
                <span class="techpack-sample-option__title">üî≤ Lab Dip ‚Äì Pantone Color Swatch (‚Ç¨25 each)</span>
                <button type="button" class="techpack-tooltip-trigger" data-tooltip="what-is-lab-dip">
                  <svg width="16" height="16" viewBox="0 0 16 16">
                    <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    <circle cx="8" cy="6" r="1" fill="currentColor"/>
                    <path d="M8 8.5v3" stroke="currentColor" stroke-width="1.5"/>
                  </svg>
                </button>
              </label>
            </div>
            
            <div class="techpack-sample-option__content" style="display: none;">
              <div class="techpack-lab-dip-list" id="lab-dip-list">
                <!-- Lab dip items will be added here -->
              </div>
              
              <button type="button" class="techpack-btn techpack-btn--small techpack-btn--secondary" id="add-lab-dip">
                <svg class="techpack-btn__icon" width="14" height="14" viewBox="0 0 16 16">
                  <path d="M8 2v12m-6-6h12" stroke="currentColor" stroke-width="2"/>
                </svg>
                + Add Another Lab Dip
              </button>
              
              <div class="techpack-sample-option__description">
                <svg class="techpack-sample-option__icon" width="16" height="16" viewBox="0 0 16 16">
                  <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5" fill="none"/>
                  <circle cx="8" cy="6" r="1.5" fill="currentColor"/>
                  <path d="M8 9v3" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <div>
                  <p>We'll dye small swatches of your Pantone color on the fabric you selected. This helps confirm color accuracy before full production or custom garments.</p>
                  <div class="techpack-sample-tooltip">
                    <strong>üí° Lab dips do NOT delay black/raw samples ‚Äì they're produced in parallel.</strong>
                  </div>
                </div>
              </div>
              
              <div class="techpack-sample-cost-display">
                <span class="techpack-sample-cost-label">Lab Dip Cost:</span>
                <span class="techpack-sample-cost-value" id="lab-dip-cost">‚Ç¨0</span>
              </div>
            </div>
          </div>

          <!-- Option 3: Custom-Colored Sample Garment -->
          <div class="techpack-sample-option" data-option="custom-color">
            <div class="techpack-sample-option__header">
              <label class="techpack-sample-option__checkbox-wrapper">
                <input type="checkbox" class="techpack-sample-option__checkbox" id="sample-custom-color">
                <span class="techpack-sample-option__checkmark"></span>
                <span class="techpack-sample-option__title">üî≤ Custom-Colored Sample Garment (Slower + Costlier)</span>
                <button type="button" class="techpack-tooltip-trigger" data-tooltip="why-custom-color-slow">
                  <svg width="16" height="16" viewBox="0 0 16 16">
                    <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5" fill="none"/>
                    <circle cx="8" cy="6" r="1" fill="currentColor"/>
                    <path d="M8 8.5v3" stroke="currentColor" stroke-width="1.5"/>
                  </svg>
                </button>
              </label>
            </div>
            
            <div class="techpack-sample-option__content" style="display: none;">
              <div class="techpack-form__row">
                <div class="techpack-form__group">
                  <label class="techpack-form__label">Choose Pantone TCX</label>
                  <select class="techpack-form__select" id="sample-custom-pantone">
                    <option value="">Select from your lab dips...</option>
                    <!-- Options populated from lab dips -->
                  </select>
                  <div class="techpack-form__help">Must have a corresponding lab dip</div>
                </div>
                <div class="techpack-form__group">
                  <label class="techpack-form__label">Sample size</label>
                  <select class="techpack-form__select" id="sample-custom-color-size">
                    <option value="">Select size...</option>
                    <option value="xxs">XXS</option>
                    <option value="xs">XS</option>
                    <option value="s">S</option>
                    <option value="m">M</option>
                    <option value="l">L</option>
                    <option value="xl">XL</option>
                    <option value="xxl">XXL</option>
                  </select>
                </div>
              </div>

              <div class="techpack-sample-warning">
                <svg class="techpack-sample-warning__icon" width="20" height="20" viewBox="0 0 20 20">
                  <path d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" fill="currentColor"/>
                </svg>
                <div>
                  <strong>‚ö†Ô∏è Adds ~3 weeks to timeline</strong>
                  <p>After lab dip approval, we will dye fabric in your color and produce your garment. This adds +2‚Äì3 weeks to the timeline. Ideal if you want to test exact final color.</p>
                </div>
              </div>

              <div class="techpack-sample-suggestion">
                <svg class="techpack-sample-suggestion__icon" width="16" height="16" viewBox="0 0 16 16">
                  <path d="M8 1a7 7 0 100 14A7 7 0 008 1zm0 3.5a.5.5 0 01.5.5v3.5a.5.5 0 01-1 0V5a.5.5 0 01.5-.5zM8 11a.75.75 0 100 1.5A.75.75 0 008 11z"/>
                </svg>
                <p><strong>üí° Want to validate fit while your color sample is being dyed?</strong> Add a black/raw sample too.</p>
              </div>

              <label class="techpack-sample-confirmation">
                <input type="checkbox" class="techpack-sample-confirmation__checkbox" id="custom-color-confirmation">
                <span class="techpack-sample-confirmation__checkmark"></span>
                <span>I understand this sample takes additional time due to custom dyeing.</span>
              </label>
            </div>
          </div>

        </div>

        <!-- Sample Summary -->
        <div class="techpack-sample-summary" id="sample-summary" style="display: none;">
          <h4 class="techpack-sample-summary__title">Selected Samples</h4>
          <div class="techpack-sample-summary__content" id="sample-summary-content">
            <!-- Populated by JavaScript -->
          </div>
          <div class="techpack-sample-summary__total">
            <span class="techpack-sample-summary__total-label">Estimated Sample Cost:</span>
            <span class="techpack-sample-summary__total-value" id="total-sample-cost">‚Ç¨0</span>
          </div>
        </div>

        <!-- Pattern Section -->
        <div class="techpack-pattern-section">
          <h4 class="techpack-pattern-section__title">‚úÇÔ∏è Garment Info Provided in Techpack</h4>
          <p class="techpack-pattern-section__subtitle">Please confirm what your file already includes</p>
          
          <div class="techpack-pattern-options">
            <label class="techpack-pattern-option">
              <input type="checkbox" class="techpack-pattern-option__checkbox" id="pattern-colorway-included">
              <span class="techpack-pattern-option__checkmark"></span>
              <span class="techpack-pattern-option__text">Colorway is already included inside the techpack</span>
            </label>
            
            <label class="techpack-pattern-option">
              <input type="checkbox" class="techpack-pattern-option__checkbox" id="pattern-sizing-defined">
              <span class="techpack-pattern-option__checkmark"></span>
              <span class="techpack-pattern-option__text">Sizing or custom measurements are defined in the techpack</span>
            </label>
            
            <label class="techpack-pattern-option">
              <input type="checkbox" class="techpack-pattern-option__checkbox" id="pattern-needs-size-help">
              <span class="techpack-pattern-option__checkmark"></span>
              <span class="techpack-pattern-option__text">You need help with sizing or fit adjustments</span>
            </label>
          </div>
          
          <div class="techpack-pattern-note">
            <svg class="techpack-pattern-note__icon" width="16" height="16" viewBox="0 0 16 16">
              <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="1.5" fill="none"/>
              <circle cx="8" cy="6" r="1" fill="currentColor"/>
              <path d="M8 8.5v3" stroke="currentColor" stroke-width="1.5"/>
            </svg>
            <span>üí° If nothing is selected, we will assume standard sizing and basic fit.</span>
          </div>
        </div>
      </div>

      <!-- Educational Tooltips -->
      <div class="techpack-tooltips">
        <div class="techpack-tooltip" id="tooltip-why-black-raw" style="display: none;">
          <div class="techpack-tooltip__content">
            <h5 class="techpack-tooltip__title">Why choose black/raw first?</h5>
            <p>Black and raw fabric samples are the fastest to produce because we keep these materials in stock. This option helps you:</p>
            <ul>
              <li><strong>Validate fit and construction</strong> without waiting for custom colors</li>
              <li><strong>Test garment quality</strong> and feel the fabric texture</li>
              <li><strong>Speed up your decision process</strong> with a 1-2 week turnaround</li>
            </ul>
            <p><em>Perfect for confirming the garment meets your expectations before investing in custom colors.</em></p>
          </div>
        </div>
        
        <div class="techpack-tooltip" id="tooltip-what-is-lab-dip" style="display: none;">
          <div class="techpack-tooltip__content">
            <h5 class="techpack-tooltip__title">What's a lab dip?</h5>
            <p>A lab dip is a small fabric swatch dyed in your exact Pantone color. This process helps you:</p>
            <ul>
              <li><strong>Confirm color accuracy</strong> before full production</li>
              <li><strong>See how the color looks</strong> on your chosen fabric</li>
              <li><strong>Avoid costly mistakes</strong> by testing colors first</li>
            </ul>
            <div class="techpack-tooltip__highlight">
              <strong>üí° Pro tip:</strong> Lab dips are produced in parallel with other samples, so they don't delay your timeline!
            </div>
          </div>
        </div>
        
        <div class="techpack-tooltip" id="tooltip-why-custom-color-slow" style="display: none;">
          <div class="techpack-tooltip__content">
            <h5 class="techpack-tooltip__title">Why do custom colors take longer?</h5>
            <p>Custom-colored samples require extra time because we:</p>
            <ul>
              <li><strong>Wait for lab dip approval</strong> to ensure color accuracy</li>
              <li><strong>Dye fabric to your specification</strong> in our facilities</li>
              <li><strong>Produce your garment</strong> with the custom-dyed fabric</li>
            </ul>
            <div class="techpack-tooltip__process">
              <strong>Process:</strong> Lab dip ‚Üí Approval ‚Üí Fabric dyeing ‚Üí Garment production
            </div>
            <p><em>The result? A sample that exactly matches your final production color.</em></p>
          </div>
        </div>
      </div>

      <div class="techpack-quantity-tracker" id="bulk-quantity-tracker">
        <div class="techpack-quantity-tracker__content">
          <span class="techpack-quantity-tracker__label">Total Quantity:</span>
          <span class="techpack-quantity-tracker__value" id="total-quantity">0</span>
          <span class="techpack-quantity-tracker__minimum">
            / <span id="min-text">75 minimum</span>
          </span>
        </div>
        <div class="techpack-quantity-tracker__bar">
          <div class="techpack-quantity-tracker__fill" id="quantity-progress" style="width: 0%"></div>
        </div>
      </div>

      <div class="techpack-garments" id="garments-container">
        <!-- Garments will be dynamically added here -->
      </div>

      <button type="button" class="techpack-btn techpack-btn--secondary techpack-btn--add-garment" id="add-garment">
        <svg class="techpack-btn__icon" width="16" height="16" viewBox="0 0 16 16">
          <path d="M8 2v12m-6-6h12" stroke="currentColor" stroke-width="2"/>
        </svg>
        Add Garment
      </button>

      <div class="techpack-form__actions">
        <button type="button" class="techpack-btn techpack-btn--ghost" id="step-3-prev">
          <svg class="techpack-btn__icon techpack-btn__icon--left" width="16" height="16" viewBox="0 0 16 16">
            <path d="M10 4L6 8l4 4" stroke="currentColor" stroke-width="2" fill="none"/>
          </svg>
          Previous
        </button>
        <button type="button" class="techpack-btn techpack-btn--primary" id="step-3-next" disabled>
          Next Step
          <svg class="techpack-btn__icon" width="16" height="16" viewBox="0 0 16 16">
            <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" fill="none"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Garment Template -->
<template id="garment-template">
  <div class="techpack-garment" data-garment-id="">
    <div class="techpack-garment__header">
      <h3 class="techpack-garment__title">Garment <span class="techpack-garment__number"></span></h3>
      <button type="button" class="techpack-garment__remove" aria-label="Remove garment">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M12 4L4 12m0-8l8 8" stroke="currentColor" stroke-width="2"/>
        </svg>
      </button>
    </div>

    <div class="techpack-garment__content">
      <div class="techpack-form__row">
        <div class="techpack-form__group techpack-form__group--required">
          <label class="techpack-form__label">Garment Type</label>
          <select class="techpack-form__select" name="garmentType" required>
            <option value="">Select garment type...</option>
            <option value="Zip-Up Hoodie">Zip-Up Hoodie</option>
            <option value="Hoodie">Hoodie</option>
            <option value="T-Shirt">T-Shirt</option>
            <option value="Crewneck Sweatshirt">Crewneck Sweatshirt</option>
            <option value="Sweatpants">Sweatpants</option>
            <option value="Shorts">Shorts</option>
            <option value="Long Sleeve T-Shirt">Long Sleeve T-Shirt</option>
            <option value="Polo Shirt">Polo Shirt</option>
            <option value="Tank Top">Tank Top</option>
            <option value="Hat/Cap">Hat/Cap</option>
            <option value="Beanie">Beanie</option>
            <option value="Other">Other (Specify in Notes)</option>
          </select>
          <div class="techpack-form__error" role="alert"></div>
        </div>

        <div class="techpack-form__group techpack-form__group--required">
          <label class="techpack-form__label">Fabric Type</label>
          <select class="techpack-form__select" name="fabricType" required>
            <option value="" selected>Select fabric type...</option>
            <option value="Fleece 100% Organic Cotton">Fleece 100% Organic Cotton</option>
            <option value="French Terry 100% Organic Cotton Fleece">French Terry 100% Organic Cotton</option>
            <option value="Cotton/Polyester Blend (50/50)">Cotton/Polyester Blend (50/50)</option>
            <option value="Cotton/Polyester Blend (70/30)">Cotton/Polyester Blend (70/30)</option>
            <option value="Cotton/Polyester Blend (80/20)">Cotton/Polyester Blend (80/20)</option>
            <option value="100% Polyester">100% Polyester</option>
            <option value="100% Linen">100% Linen</option>
            <option value="Cotton/Linen Blend">Cotton/Linen Blend</option>
            <option value="Jersey Knit">Jersey Knit</option>
            <option value="Pique">Pique</option>
            <option value="Canvas">Canvas</option>
            <option value="Custom Fabric">Custom Fabric (Specify in Notes)</option>
          </select>
          <div class="techpack-form__error" role="alert"></div>
        </div>
      </div>

      <div class="techpack-form__group techpack-form__group--required">
        <label class="techpack-form__label">Printing Methods (Select at least one) *</label>
        <div class="techpack-form__checkboxes techpack-form__checkboxes--compact">
          <label class="techpack-form__checkbox">
            <input type="checkbox" name="printingMethods[]" value="None">
            <span class="techpack-form__checkbox-mark"></span>
            None
          </label>
          <label class="techpack-form__checkbox">
            <input type="checkbox" name="printingMethods[]" value="Embroidery">
            <span class="techpack-form__checkbox-mark"></span>
            Embroidery
          </label>
          <label class="techpack-form__checkbox">
            <input type="checkbox" name="printingMethods[]" value="Screen Print">
            <span class="techpack-form__checkbox-mark"></span>
            Screen Print
          </label>
          <label class="techpack-form__checkbox">
            <input type="checkbox" name="printingMethods[]" value="Digital Print">
            <span class="techpack-form__checkbox-mark"></span>
            Digital Print
          </label>
          <label class="techpack-form__checkbox">
            <input type="checkbox" name="printingMethods[]" value="Other">
            <span class="techpack-form__checkbox-mark"></span>
            Other
          </label>
        </div>
        <div class="techpack-form__error" role="alert"></div>
      </div>

      <div class="techpack-colorways">
        <div class="techpack-colorways__header">
          <h4 class="techpack-colorways__title">Colorways</h4>
          <button type="button" class="techpack-btn techpack-btn--small techpack-btn--secondary add-colorway">
            <svg class="techpack-btn__icon" width="14" height="14" viewBox="0 0 16 16">
              <path d="M8 2v12m-6-6h12" stroke="currentColor" stroke-width="2"/>
            </svg>
            Add Colorway
          </button>
        </div>
        <div class="techpack-colorways__list">
          <!-- Colorways will be added here -->
        </div>
      </div>

      <div class="techpack-garment__total">
        <span class="techpack-garment__total-label">Garment Total:</span>
        <span class="techpack-garment__total-value">0</span>
      </div>
    </div>
  </div>
</template>

<!-- Colorway Template -->
<template id="colorway-template">
  <div class="techpack-colorway" data-colorway-id="">
    <!-- Perfect Single Line Layout: Color ‚Üí Sample ‚Üí Pantone ‚Üí X -->
    <div class="techpack-colorway__header-line">
      <!-- Column 1: Color Picker -->
      <div class="techpack-colorway__color">
        <label class="techpack-form__label">Color</label>
        <input type="color" class="techpack-color-picker__input" value="#000000" data-color-picker>
      </div>
      
      <!-- Column 2: Sample Request (Transform in place) -->
      <div class="techpack-colorway__sample">
        <label class="techpack-form__label">Sample</label>
        <div class="techpack-sample-toggle">
          <button type="button" class="techpack-btn techpack-btn--secondary techpack-btn--sample-request">
            Request Sample
          </button>
          <select class="techpack-form__select techpack-form__select--sample-size" style="display: none;">
            <option value="">Select size...</option>
            <option value="xxs">XXS</option>
            <option value="xs">XS</option>
            <option value="s">S</option>
            <option value="m">M</option>
            <option value="l">L</option>
            <option value="xl">XL</option>
            <option value="xxl">XXL</option>
          </select>
        </div>
      </div>
      
      <!-- Column 3: Pantone Options (Takes remaining space) -->
      <div class="techpack-colorway__pantone">
        <label class="techpack-form__label">
          PANTONE Options <span class="techpack-form__required">*</span>
        </label>
        <div class="techpack-pantone-buttons" style="display: none;">
          <div class="techpack-pantone-grid">
            <button type="button" class="techpack-btn techpack-btn--pantone-compact" data-pantone-index="0" data-pantone-code="" data-pantone-hex="" style="--pantone-hex: #000000;">
              <div class="techpack-pantone-circle" style="background-color: var(--pantone-hex)"></div>
              <span class="techpack-pantone-text">Select color</span>
              <div class="techpack-pantone-radio"></div>
            </button>
            <button type="button" class="techpack-btn techpack-btn--pantone-compact" data-pantone-index="1" data-pantone-code="" data-pantone-hex="" style="--pantone-hex: #000000;">
              <div class="techpack-pantone-circle" style="background-color: var(--pantone-hex)"></div>
              <span class="techpack-pantone-text">Select color</span>
              <div class="techpack-pantone-radio"></div>
            </button>
          </div>
        </div>
        <div class="techpack-pantone-validation-message" style="display: none;"></div>
      </div>
      
      <!-- Column 4: Remove Button (Original position) -->
      <button type="button" class="techpack-colorway__remove" aria-label="Remove colorway">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M12 4L4 12m0-8l8 8" stroke="currentColor" stroke-width="2"/>
        </svg>
      </button>
    </div>

    <div class="techpack-size-grid" style="display: none;" data-requires-pantone="true">
      <div class="techpack-size-grid__header">
        <div class="techpack-size-grid__label">Size</div>
        <div class="techpack-size-grid__label">XXS</div>
        <div class="techpack-size-grid__label">XS</div>
        <div class="techpack-size-grid__label">S</div>
        <div class="techpack-size-grid__label">M</div>
        <div class="techpack-size-grid__label">L</div>
        <div class="techpack-size-grid__label">XL</div>
        <div class="techpack-size-grid__label">XXL</div>
      </div>
      <div class="techpack-size-grid__row">
        <div class="techpack-size-grid__label">Qty</div>
        <input type="number" class="techpack-size-grid__input" name="qty-xxs" min="0" value="0" data-size="xxs">
        <input type="number" class="techpack-size-grid__input" name="qty-xs" min="0" value="0" data-size="xs">
        <input type="number" class="techpack-size-grid__input" name="qty-s" min="0" value="0" data-size="s">
        <input type="number" class="techpack-size-grid__input" name="qty-m" min="0" value="0" data-size="m">
        <input type="number" class="techpack-size-grid__input" name="qty-l" min="0" value="0" data-size="l">
        <input type="number" class="techpack-size-grid__input" name="qty-xl" min="0" value="0" data-size="xl">
        <input type="number" class="techpack-size-grid__input" name="qty-xxl" min="0" value="0" data-size="xxl">
      </div>
    </div>

    <div class="techpack-colorway__total">
      <span class="techpack-colorway__total-label">Colorway Total:</span>
      <span class="techpack-colorway__total-value">0</span>
    </div>
  </div>
</template>

<!-- Lab Dip Template -->
<template id="lab-dip-template">
  <div class="techpack-lab-dip-item" data-lab-dip-id="">
    <div class="techpack-lab-dip-item__content">
      <div class="techpack-form__group">
        <label class="techpack-form__label">Pantone TCX Code</label>
        <input 
          type="text" 
          class="techpack-form__input techpack-lab-dip-pantone" 
          placeholder="e.g., 18-3949 TPX"
          data-validate="pantone"
        >
        <div class="techpack-form__error" role="alert"></div>
      </div>
      
      <div class="techpack-form__group">
        <label class="techpack-form__label">Color Preview</label>
        <div class="techpack-lab-dip-color-preview">
          <input type="color" class="techpack-color-picker__input techpack-lab-dip-color" value="#000000">
          <span class="techpack-lab-dip-color-text">Click to select color</span>
        </div>
      </div>
      
      <div class="techpack-lab-dip-cost">
        <span class="techpack-lab-dip-cost-label">Cost:</span>
        <span class="techpack-lab-dip-cost-value">‚Ç¨25</span>
      </div>
      
      <button type="button" class="techpack-lab-dip-remove" aria-label="Remove lab dip">
        <svg width="16" height="16" viewBox="0 0 16 16">
          <path d="M12 4L4 12m0-8l8 8" stroke="currentColor" stroke-width="2"/>
        </svg>
      </button>
    </div>
  </div>
</template>

{% schema %}
{
  "name": "Tech-Pack Step 3",
  "settings": [
    {
      "type": "header",
      "content": "Garment Specifications Step"
    },
    {
      "type": "text",
      "id": "step_title",
      "label": "Step Title",
      "default": "Garment Specifications"
    },
    {
      "type": "text",
      "id": "step_subtitle",
      "label": "Step Subtitle",
      "default": "Define your garment details and quantity requirements"
    },
    {
      "type": "number",
      "id": "minimum_quantity",
      "label": "Minimum Total Quantity",
      "default": 75
    }
  ],
  "presets": [
    {
      "name": "Tech-Pack Step 3"
    }
  ]
}
{% endschema %}