{% comment %}
  TechPack V11 - Pricing Calculator
  Purpose: Luxurious single-page calculator for estimating garment production costs
  Flow: Visual selections → Real-time pricing → Quote generation
{% endcomment %}

{{ 'techpack-v11-base.css' | asset_url | stylesheet_tag }}
{{ 'techpack-v11-calculator.css' | asset_url | stylesheet_tag }}

<div class="techpack-v11 calculator-page" id="calculatorMain" data-section-id="{{ section.id }}">

  {%- comment -%} Calculator Container {%- endcomment -%}
  <div class="calculator-container">

    {%- comment -%} Header {%- endcomment -%}
    <header class="calculator-header">
      <h1 class="calculator-header__title">Price Calculator</h1>
      <p class="calculator-header__description">
        Quickly estimate your garment production costs with full transparency, powered by the GENUINEBLANKS supply chain.
      </p>
    </header>

    {%- comment -%} Calculator Form {%- endcomment -%}
    <div class="calculator-form">

      {%- comment -%} 1. GARMENT SELECTION {%- endcomment -%}
      <section class="calculator-section" id="garmentSelection">
        <div class="section-header">
          <h2 class="section-header__title">Choose a Garment</h2>
        </div>

        <div class="garment-grid">
          {%- comment -%} Garment cards will be populated by JavaScript {%- endcomment -%}
        </div>
      </section>

      {%- comment -%} 2. FABRIC TYPE SELECTION (Dynamic based on garment) {%- endcomment -%}
      <section class="calculator-section" id="fabricTypeSelection" style="display: none;">
        <div class="section-header">
          <h2 class="section-header__title">Select Fabric Type</h2>
        </div>
        <div class="button-group">
          {%- comment -%} Fabric type buttons will be populated by JavaScript {%- endcomment -%}
        </div>
      </section>

      {%- comment -%} 3. GSM SELECTION (Dynamic based on fabric type) {%- endcomment -%}
      <section class="calculator-section" id="gsmSelection" style="display: none;">
        <div class="section-header">
          <h2 class="section-header__title">Select Fabric Weight (GSM)</h2>
        </div>
        <div class="button-group button-group--wrap">
          {%- comment -%} GSM buttons will be populated by JavaScript {%- endcomment -%}
        </div>
      </section>

      {%- comment -%} 4. SPECIFICATIONS {%- endcomment -%}
      <section class="calculator-section" id="specifications">
        <div class="section-header">
          <h2 class="section-header__title">Specification</h2>
        </div>

        <div class="spec-grid">

          {%- comment -%} Fit {%- endcomment -%}
          <div class="spec-field">
            <label class="spec-label">
              <span>Fit</span>
              <button type="button" class="info-tooltip" data-tooltip="garment-fit">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
                  <path d="M8 11V8M8 5h.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
              </button>
            </label>
            <select class="spec-dropdown" id="fitSelect">
              <option value="Slim Fit">Slim Fit</option>
              <option value="Regular Fit" selected>Regular Fit</option>
              <option value="Boxy Fit">Boxy Fit</option>
              <option value="Oversized">Oversized</option>
            </select>
          </div>

          {%- comment -%} Custom Fit {%- endcomment -%}
          <div class="spec-field">
            <label class="spec-label">
              Custom Fit
              <button type="button" class="info-tooltip" data-tooltip="custom-fit">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
                  <path d="M8 11V8M8 5h.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
              </button>
            </label>
            <div class="button-group">
              <button type="button" class="button-option" data-option="custom-fit" data-value="Yes">Yes</button>
              <button type="button" class="button-option" data-option="custom-fit" data-value="No">No</button>
            </div>
          </div>

          {%- comment -%} Fabric Color {%- endcomment -%}
          <div class="spec-field">
            <label class="spec-label">
              <span>Fabric Color</span>
              <button type="button" class="info-tooltip" data-tooltip="fabric-color">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
                  <path d="M8 11V8M8 5h.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
              </button>
            </label>
            <div class="button-group button-group--wrap">
              <button type="button" class="button-option" data-option="fabric-color" data-value="White">White</button>
              <button type="button" class="button-option" data-option="fabric-color" data-value="White RTD">White RTD</button>
              <button type="button" class="button-option" data-option="fabric-color" data-value="Black">Black</button>
              <button type="button" class="button-option" data-option="fabric-color" data-value="Heather Grey">Heather Grey</button>
              <button type="button" class="button-option" data-option="fabric-color" data-value="Custom Color">Custom Color</button>
            </div>
          </div>

          {%- comment -%} Fade Out Dye (Only shown for cotton fabrics - controlled by JS) {%- endcomment -%}
          <div class="spec-field" data-field="fade-out" style="display: none;">
            <label class="spec-label">
              <span>Fade Out Dye</span>
              <button type="button" class="info-tooltip" data-tooltip="fade-out">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
                  <path d="M8 11V8M8 5h.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
              </button>
            </label>
            <div class="button-group">
              <button type="button" class="button-option" data-option="fade-out" data-value="Yes">Yes</button>
              <button type="button" class="button-option" data-option="fade-out" data-value="No">No</button>
            </div>
          </div>

        </div>
      </section>

      {%- comment -%} 3. EMBELLISHMENTS {%- endcomment -%}
      <section class="calculator-section" id="embellishments">
        <div class="section-header">
          <div class="section-header__title-row">
            <h2 class="section-header__title">Embellishments</h2>
            <button type="button" class="info-tooltip" data-tooltip="embellishments">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
                <path d="M8 11V8M8 5h.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
            </button>
          </div>
        </div>

        <div class="embellishments-actions">
          <button type="button" class="button-add-embellishment" data-method="DTG Print">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Add DTG Print
          </button>
          <button type="button" class="button-add-embellishment" data-method="Screen Print">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Add Screen Print
          </button>
          <button type="button" class="button-add-embellishment" data-method="Embroidery">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Add Embroidery
          </button>
          <button type="button" class="button-add-embellishment" data-method="Distressing">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Add Distressing
          </button>
          <button type="button" class="button-add-embellishment" data-method="Sunfade">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            Add Sunfade
          </button>
        </div>

        <div class="embellishments-list" id="embellishmentsList">
          {%- comment -%} Embellishment items will be added by JavaScript {%- endcomment -%}
        </div>
      </section>

      {%- comment -%} 4. CUSTOM LABELS {%- endcomment -%}
      <section class="calculator-section" id="customLabels">
        <div class="section-header">
          <h2 class="section-header__title">Custom Labels</h2>
          <button type="button" class="info-tooltip" data-tooltip="custom-labels">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
              <path d="M8 11V8M8 5h.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
          </button>
        </div>

        <div class="labels-grid">
          <div class="label-field">
            <h3 class="label-field__title">Necklabel</h3>
            <div class="button-group button-group--vertical">
              <button type="button" class="button-option" data-option="necklabel" data-value="Polyester">Polyester</button>
              <button type="button" class="button-option" data-option="necklabel" data-value="Cotton Canvas">Cotton Canvas</button>
              <button type="button" class="button-option" data-option="necklabel" data-value="Woven">Woven</button>
            </div>
          </div>

          <div class="label-field">
            <h3 class="label-field__title">Carelabel</h3>
            <div class="button-group button-group--vertical">
              <button type="button" class="button-option" data-option="carelabel" data-value="Polyester">Polyester</button>
              <button type="button" class="button-option" data-option="carelabel" data-value="Cotton Canvas">Cotton Canvas</button>
              <button type="button" class="button-option" data-option="carelabel" data-value="Woven">Woven</button>
            </div>
          </div>
        </div>
      </section>

      {%- comment -%} 5. PACKAGING {%- endcomment -%}
      <section class="calculator-section" id="packaging">
        <div class="section-header">
          <h2 class="section-header__title">Packaging</h2>
        </div>

        <div class="button-group">
          <button type="button" class="button-option" data-option="packaging" data-value="Neutral polybag">Neutral polybag</button>
          <button type="button" class="button-option" data-option="packaging" data-value="Velvet Touch Polybag">Velvet Touch Polybag</button>
          <button type="button" class="button-option" data-option="packaging" data-value="Unpackaged">Unpackaged</button>
        </div>
      </section>

      {%- comment -%} 6. ORDER QUANTITY {%- endcomment -%}
      <section class="calculator-section" id="orderQuantity">
        <div class="section-header">
          <h2 class="section-header__title">Order Quantity</h2>
        </div>

        <div class="quantity-control">
          <div class="quantity-slider-container">
            <input
              type="range"
              class="quantity-slider"
              id="quantitySlider"
              min="50"
              max="5000"
              step="25"
              value="150">
            <div class="quantity-display">
              <span id="quantityValue">150</span>
              <span class="quantity-units">pieces</span>
            </div>
          </div>

          {%- comment -%} CTA Buttons {%- endcomment -%}
          <div class="quantity-cta-buttons">
            <a href="https://www.genuineblanks.com/pages/techpack-studio" class="cta-button cta-button--primary">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Get Custom Quote
            </a>
            <a href="/pages/contact" class="cta-button cta-button--secondary">
              <svg width="18" height="18" viewBox="0 0 20 20" fill="none">
                <path d="M3 4h14a1 1 0 011 1v10a1 1 0 01-1 1H3a1 1 0 01-1-1V5a1 1 0 011-1z" stroke="currentColor" stroke-width="1.5"/>
                <path d="M18 5l-8 6-8-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
              </svg>
              Contact
            </a>
          </div>
        </div>
      </section>

    </div>

    {%- comment -%} RESULTS PANEL (Sticky Bottom) {%- endcomment -%}
    <div class="results-panel" id="resultsPanel">
      <div class="results-panel__container">

        <div class="results-metrics">
          <div class="result-metric">
            <div class="result-metric__label">Order Quantity</div>
            <div class="result-metric__value" id="resultQuantity">150 pcs</div>
          </div>

          <div class="result-metric">
            <div class="result-metric__label">Timeline</div>
            <div class="result-metric__value" id="resultTimeline">2-4 weeks</div>
          </div>

          <div class="result-metric">
            <div class="result-metric__label">Unit Cost</div>
            <div class="result-metric__value" id="resultUnitCost">0.00€</div>
          </div>

          <div class="result-metric">
            <div class="result-metric__label">Development Costs</div>
            <div class="result-metric__value" id="resultDevCosts">0.00€</div>
          </div>

          <div class="result-metric result-metric--total">
            <div class="result-metric__label">Total</div>
            <div class="result-metric__value" id="resultTotal">0.00€</div>
          </div>
        </div>

        <p class="results-disclaimer">
          * The costs shown are estimates only and are not official quotes. For a formal quote, please register in our software. Shipping cost and VAT is not included in the prices shown.
        </p>

      </div>
    </div>

  </div>

</div>

<script src="{{ 'techpack-v11-calculator.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "TechPack V11 - Calculator",
  "settings": [
    {
      "type": "header",
      "content": "Calculator Settings"
    },
    {
      "type": "checkbox",
      "id": "enable_calculator",
      "label": "Enable Calculator",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "TechPack Calculator"
    }
  ]
}
{% endschema %}
