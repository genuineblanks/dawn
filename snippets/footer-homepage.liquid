{% comment %}theme-check-disable UndefinedObject{% endcomment %}
{{ 'section-footer.css' | asset_url | stylesheet_tag }}
{{ 'component-newsletter.css' | asset_url | stylesheet_tag }}
{{ 'component-list-social.css' | asset_url | stylesheet_tag }}

<footer class="footer footer-banner-img color-{{ section.settings.color_scheme }}">
  {%- liquid
    assign has_social_icons = true
    if settings.social_facebook_link == blank and settings.social_instagram_link == blank and settings.social_youtube_link == blank and settings.social_tiktok_link == blank and settings.social_twitter_link == blank and settings.social_pinterest_link == blank and settings.social_snapchat_link == blank and settings.social_tumblr_link == blank and settings.social_vimeo_link == blank
      assign has_social_icons = false
    endif
  -%}
  
  <div class="homepage-footer-content">
    <!-- Company Branding -->
    <div class="footer-branding">
      <h2 class="footer-brand-name">GENUINEBLANKS</h2>
    </div>

    <!-- Email Signup (Optional - can be enabled/disabled) -->
    <!-- DEBUG: newsletter_enable = {{ section.settings.newsletter_enable }}, show_social = {{ section.settings.show_social }} -->
    <!-- TEMP: Always show newsletter for testing -->
    <div class="footer-newsletter-compact">
      <div class="klaviyo-form-Xx3Apa newsletter_Klaviyo"></div>
    </div>

    <!-- Navigation Links -->
    {%- if section.settings.show_policy_menu != blank -%}
      <nav class="footer-navigation">
        <ul class="footer-nav-list">
          {%- for link in section.settings.show_policy_menu.links -%}
            <li><a href="{{ link.url }}">{{ link.title | upcase }}</a></li>
          {%- endfor -%}
        </ul>
      </nav>
    {%- endif -%}

    <!-- Social Media Icons -->
    <!-- DEBUG: has_social_icons = {{ has_social_icons }} -->
    <!-- TEMP: Always show social icons for testing -->
    <div class="footer-social">
      {%- render 'social-icons', class: 'footer__list-social' -%}
      <!-- FALLBACK: If no social icons render, show placeholder -->
      <div class="social-fallback" style="display: flex; gap: 1rem; justify-content: center;">
        <span style="color: #666; font-size: 0.8rem;">Facebook | Instagram | Twitter</span>
      </div>
    </div>

    <!-- Copyright -->
    {%- if section.settings.copyright_text != blank -%}
      <div class="footer-copyright">
        <p>{{ section.settings.copyright_text }}</p>
      </div>
    {%- endif -%}
  </div>

  <!-- Section Dots Navigation (Essential for text-grid functionality) -->
  <div id="section-dots" class="section-dot-navigation"></div>
</footer>