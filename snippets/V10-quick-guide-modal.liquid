{% comment %}
  V10 Visual Studio Guide Modal Component
  Reusable modal component for the visual studio guide system
{% endcomment %}

<!-- Visual Studio Guide Modal (Generated by JavaScript) -->
<!-- The modal HTML is dynamically generated by V10-visual-studio-guide.js -->
<!-- This snippet serves as documentation and backup HTML structure -->

{% comment %}
  Usage:
  1. Include this snippet in any template where you want the visual guide
  2. Add the CSS file: {{ 'V10-visual-studio-guide.css' | asset_url | stylesheet_tag }}
  3. Add the JS file: {{ 'V10-visual-studio-guide.js' | asset_url | script_tag }}
  4. Add trigger buttons with class 'visual-guide-trigger' or ID 'step-3-help-btn'

  Example trigger button:
  <button type="button" class="visual-guide-trigger">
    Open Visual Guide
  </button>
{% endcomment %}

<!-- Backup/Fallback Modal Structure (used by JavaScript) -->
<template id="visual-guide-modal-template">
  <div class="visual-guide-overlay" id="visual-guide-modal">
    <div class="visual-guide-modal">
      <div class="visual-guide-header">
        <div class="visual-guide-header-content">
          <div class="visual-guide-header-text">
            <h2>{{ 'techpack.visual_guide.title' | t | default: 'Visual Studio Guide' }}</h2>
            <p>{{ 'techpack.visual_guide.subtitle' | t | default: 'Master the techpack workflow with interactive guidance' }}</p>
          </div>
          <button type="button" class="visual-guide-close" id="close-visual-guide" aria-label="{{ 'general.accessibility.close' | t | default: 'Close' }}">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M15 5L5 15M5 5l10 10"/>
            </svg>
          </button>
        </div>
      </div>
      
      <div class="visual-guide-body">
        <!-- Navigation Tabs -->
        <div class="guide-navigation">
          <button type="button" class="guide-nav-tab active" data-phase="overview">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
              <line x1="9" y1="9" x2="9.01" y2="9"/>
              <line x1="15" y1="9" x2="15.01" y2="9"/>
            </svg>
            {{ 'techpack.visual_guide.overview' | t | default: 'Overview' }}
          </button>
          <button type="button" class="guide-nav-tab" data-phase="workflow">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
            </svg>
            {{ 'techpack.visual_guide.workflow' | t | default: 'Workflow' }}
          </button>
          <button type="button" class="guide-nav-tab" data-phase="examples">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
              <circle cx="8.5" cy="8.5" r="1.5"/>
              <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
            </svg>
            {{ 'techpack.visual_guide.examples' | t | default: 'Examples' }}
          </button>
          <button type="button" class="guide-nav-tab" data-phase="calculator">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="4" y="4" width="16" height="16" rx="2"/>
              <rect x="9" y="9" width="6" height="6"/>
              <line x1="9" y1="1" x2="9" y2="4"/>
              <line x1="15" y1="1" x2="15" y2="4"/>
              <line x1="9" y1="20" x2="9" y2="23"/>
              <line x1="15" y1="20" x2="15" y2="23"/>
              <line x1="20" y1="9" x2="23" y2="9"/>
              <line x1="20" y1="14" x2="23" y2="14"/>
              <line x1="1" y1="9" x2="4" y2="9"/>
              <line x1="1" y1="14" x2="4" y2="14"/>
            </svg>
            {{ 'techpack.visual_guide.calculator' | t | default: 'Calculator' }}
          </button>
        </div>

        <!-- Phase Content Container -->
        <div id="guide-content">
          <!-- Content will be populated by JavaScript based on active phase -->
          
          <!-- Overview Phase Template -->
          <div class="guide-phase active" data-phase="overview">
            <div class="process-flow-container">
              <div class="process-flow-title">
                <h3>{{ 'techpack.visual_guide.process_title' | t | default: 'Complete Techpack Process' }}</h3>
                <p>{{ 'techpack.visual_guide.process_subtitle' | t | default: 'From concept to production - understand every step' }}</p>
              </div>
              
              <div class="process-flow">
                <div class="process-step active" data-step="1">
                  <div class="process-step-icon">üëï</div>
                  <h4 class="process-step-title">{{ 'techpack.visual_guide.step_1_title' | t | default: 'Add Garment' }}</h4>
                  <p class="process-step-description">{{ 'techpack.visual_guide.step_1_desc' | t | default: 'Select the type of garment you want to create' }}</p>
                </div>
                
                <div class="process-step" data-step="2">
                  <div class="process-step-icon">üßµ</div>
                  <h4 class="process-step-title">{{ 'techpack.visual_guide.step_2_title' | t | default: 'Choose Fabric' }}</h4>
                  <p class="process-step-description">{{ 'techpack.visual_guide.step_2_desc' | t | default: 'Pick the perfect fabric for your garment type' }}</p>
                </div>
                
                <div class="process-step" data-step="3">
                  <div class="process-step-icon">üéØ</div>
                  <h4 class="process-step-title">{{ 'techpack.visual_guide.step_3_title' | t | default: 'Sample Method' }}</h4>
                  <p class="process-step-description">{{ 'techpack.visual_guide.step_3_desc' | t | default: 'Decide how you want your sample created' }}</p>
                </div>
                
                <div class="process-step" data-step="4">
                  <div class="process-step-icon">üé®</div>
                  <h4 class="process-step-title">{{ 'techpack.visual_guide.step_4_title' | t | default: 'Customize' }}</h4>
                  <p class="process-step-description">{{ 'techpack.visual_guide.step_4_desc' | t | default: 'Add colors, designs, and finishing touches' }}</p>
                </div>
              </div>
            </div>

            <!-- Decision Tree for Sample Types -->
            <div class="decision-tree">
              <div class="decision-tree-header">
                <h4>{{ 'techpack.visual_guide.sample_paths_title' | t | default: 'Three Sample Paths' }}</h4>
                <p>{{ 'techpack.visual_guide.sample_paths_desc' | t | default: 'Each path offers different benefits, timelines, and requirements' }}</p>
              </div>
              
              <div class="decision-tree-content">
                <!-- Stock Fabric Color Path -->
                <div class="decision-branch" data-sample-type="stock">
                  <div class="branch-header">
                    <h5 class="branch-title">{{ 'techpack.sample_types.stock.title' | t | default: 'Stock Fabric Color' }}</h5>
                    <span class="branch-price">{{ 'techpack.sample_types.stock.price' | t | default: '‚Ç¨35' }}</span>
                  </div>
                  <p class="branch-description">{{ 'techpack.sample_types.stock.description' | t | default: 'Quick validation with available fabric colors' }}</p>
                  <p class="branch-timeline">‚è±Ô∏è {{ 'techpack.sample_types.stock.timeline' | t | default: '1-2 weeks delivery' }}</p>
                  <div class="branch-requirements">
                    <span class="requirement-tag optional">{{ 'techpack.requirements.design_optional' | t | default: 'Design Optional' }}</span>
                    <span class="requirement-tag">{{ 'techpack.requirements.stock_colors' | t | default: 'Black/White/Random' }}</span>
                  </div>
                </div>

                <!-- Custom Color Path -->
                <div class="decision-branch" data-sample-type="custom">
                  <div class="branch-header">
                    <h5 class="branch-title">{{ 'techpack.sample_types.custom.title' | t | default: 'Custom Color (Pantone)' }}</h5>
                    <span class="branch-price">{{ 'techpack.sample_types.custom.price' | t | default: '‚Ç¨65' }}</span>
                  </div>
                  <p class="branch-description">{{ 'techpack.sample_types.custom.description' | t | default: 'Exact color match using Pantone system' }}</p>
                  <p class="branch-timeline">‚è±Ô∏è {{ 'techpack.sample_types.custom.timeline' | t | default: '3 weeks delivery' }}</p>
                  <div class="branch-requirements">
                    <span class="requirement-tag mandatory">{{ 'techpack.requirements.labdip_required' | t | default: 'Lab Dip Required' }}</span>
                    <span class="requirement-tag optional">{{ 'techpack.requirements.design_optional' | t | default: 'Design Optional' }}</span>
                  </div>
                </div>

                <!-- TechPack Path -->
                <div class="decision-branch" data-sample-type="techpack">
                  <div class="branch-header">
                    <h5 class="branch-title">{{ 'techpack.sample_types.techpack.title' | t | default: 'As Per TechPack' }}</h5>
                    <span class="branch-price">{{ 'techpack.sample_types.techpack.price' | t | default: 'Premium' }}</span>
                  </div>
                  <p class="branch-description">{{ 'techpack.sample_types.techpack.description' | t | default: 'Complete sample following exact TechPack specifications' }}</p>
                  <p class="branch-timeline">‚è±Ô∏è {{ 'techpack.sample_types.techpack.timeline' | t | default: '4-5 weeks delivery' }}</p>
                  <div class="branch-requirements">
                    <span class="requirement-tag">{{ 'techpack.requirements.full_specs' | t | default: 'Full Specifications' }}</span>
                    <span class="requirement-tag">{{ 'techpack.requirements.comprehensive' | t | default: 'Comprehensive Sample' }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Other phases will be generated by JavaScript -->
        </div>

        <!-- Action Buttons -->
        <div class="guide-actions">
          <button type="button" class="guide-btn guide-btn-secondary" id="guide-try-mode">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 12l2 2 4-4"/>
              <circle cx="12" cy="12" r="10"/>
            </svg>
            {{ 'techpack.visual_guide.try_mode' | t | default: 'Try It Mode' }}
          </button>
          <button type="button" class="guide-btn guide-btn-primary" id="guide-start-workflow">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14"/>
              <path d="m12 5 7 7-7 7"/>
            </svg>
            {{ 'techpack.visual_guide.start_workflow' | t | default: 'Start Workflow' }}
          </button>
        </div>
      </div>
    </div>
  </div>
</template>

{% comment %}
Enhanced Trigger Button Example - This is for documentation purposes only
Do not render this on the page - the actual button is integrated in techpack sections

Example usage for implementing in other sections:
<button type="button" class="visual-guide-trigger techpack-help-btn techpack-help-btn--primary" 
        aria-label="{{ 'techpack.visual_guide.open_guide' | t | default: 'Open Visual Studio Guide' }}">
  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
    <circle cx="12" cy="12" r="10"/>
    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
    <circle cx="12" cy="17" r="1"/>
  </svg>
  <span>{{ 'techpack.visual_guide.open_button' | t | default: 'VISUAL STUDIO GUIDE' }}</span>
</button>
{% endcomment %}

<!-- Accessibility Enhancements -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "{{ 'techpack.visual_guide.schema_name' | t | default: 'TechPack Visual Studio Guide' }}",
  "description": "{{ 'techpack.visual_guide.schema_description' | t | default: 'Interactive guide for creating garment samples through the TechPack studio system' }}",
  "step": [
    {
      "@type": "HowToStep",
      "name": "{{ 'techpack.visual_guide.step_1_title' | t | default: 'Add Garment' }}",
      "text": "{{ 'techpack.visual_guide.step_1_desc' | t | default: 'Select the type of garment you want to create' }}"
    },
    {
      "@type": "HowToStep", 
      "name": "{{ 'techpack.visual_guide.step_2_title' | t | default: 'Choose Fabric' }}",
      "text": "{{ 'techpack.visual_guide.step_2_desc' | t | default: 'Pick the perfect fabric for your garment type' }}"
    },
    {
      "@type": "HowToStep",
      "name": "{{ 'techpack.visual_guide.step_3_title' | t | default: 'Sample Method' }}",
      "text": "{{ 'techpack.visual_guide.step_3_desc' | t | default: 'Decide how you want your sample created' }}"
    },
    {
      "@type": "HowToStep",
      "name": "{{ 'techpack.visual_guide.step_4_title' | t | default: 'Customize' }}",
      "text": "{{ 'techpack.visual_guide.step_4_desc' | t | default: 'Add colors, designs, and finishing touches' }}"
    }
  ]
}
</script>

{% comment %}
  Translation Keys Used:
  - techpack.visual_guide.title
  - techpack.visual_guide.subtitle
  - techpack.visual_guide.overview
  - techpack.visual_guide.workflow
  - techpack.visual_guide.examples
  - techpack.visual_guide.calculator
  - techpack.visual_guide.process_title
  - techpack.visual_guide.process_subtitle
  - techpack.visual_guide.step_1_title
  - techpack.visual_guide.step_1_desc
  - techpack.visual_guide.step_2_title
  - techpack.visual_guide.step_2_desc
  - techpack.visual_guide.step_3_title
  - techpack.visual_guide.step_3_desc
  - techpack.visual_guide.step_4_title
  - techpack.visual_guide.step_4_desc
  - techpack.visual_guide.sample_paths_title
  - techpack.visual_guide.sample_paths_desc
  - techpack.sample_types.stock.title
  - techpack.sample_types.stock.price
  - techpack.sample_types.stock.description
  - techpack.sample_types.stock.timeline
  - techpack.sample_types.custom.title
  - techpack.sample_types.custom.price
  - techpack.sample_types.custom.description
  - techpack.sample_types.custom.timeline
  - techpack.sample_types.techpack.title
  - techpack.sample_types.techpack.price
  - techpack.sample_types.techpack.description
  - techpack.sample_types.techpack.timeline
  - techpack.requirements.design_optional
  - techpack.requirements.stock_colors
  - techpack.requirements.labdip_required
  - techpack.requirements.full_specs
  - techpack.requirements.comprehensive
  - techpack.visual_guide.try_mode
  - techpack.visual_guide.start_workflow
  - techpack.visual_guide.open_guide
  - techpack.visual_guide.open_button
  - general.accessibility.close
{% endcomment %}