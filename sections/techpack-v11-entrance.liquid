{% comment %}
  TechPack V11 - Entrance Page
  Purpose: Landing page for TechPack Studio with request type selection
  Features: Light/Dark theme toggle, clean fullscreen layout
{% endcomment %}

{{ 'techpack-v11-base.css' | asset_url | stylesheet_tag }}
{{ 'techpack-v11-entrance.css' | asset_url | stylesheet_tag }}
{{ 'techpack-v11-modals.css' | asset_url | stylesheet_tag }}

<style>
  /* Hide theme header and footer on entrance page */
  .section-techpack-v11-entrance ~ * {
    display: none !important;
  }
  body:has(.section-techpack-v11-entrance) .shopify-section-header,
  body:has(.section-techpack-v11-entrance) > header,
  body:has(.section-techpack-v11-entrance) footer {
    display: none !important;
  }

  /* Ensure entrance header is visible */
  .techpack-v11__header {
    display: block !important;
  }
</style>

<div class="techpack-v11" data-section-id="{{ section.id }}" data-section-type="techpack-entrance">

  {%- comment -%} Standalone Navigation Header {%- endcomment -%}
  <div class="techpack-v11__standalone-header">
    <div class="standalone-header__container">

      {%- comment -%} Left: Download Techpack {%- endcomment -%}
      <div class="standalone-header__left">
        <a
          href="{{ section.settings.template_download_url | default: '#' }}"
          class="nav-link"
          {% if section.settings.template_download_url != blank %}download{% endif %}
        >
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 11.25V13.5C15 13.8978 14.842 14.2794 14.5607 14.5607C14.2794 14.842 13.8978 15 13.5 15H4.5C4.10218 15 3.72064 14.842 3.43934 14.5607C3.15804 14.2794 3 13.8978 3 13.5V11.25M6 7.5L9 10.5M9 10.5L12 7.5M9 10.5V2.25" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Download Techpack</span>
        </a>
      </div>

      {%- comment -%} Center: Homepage + Pricing Calculator {%- endcomment -%}
      <nav class="standalone-header__nav">
        <a href="/" class="nav-link">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2.25 6.75L9 1.5L15.75 6.75V15C15.75 15.3978 15.592 15.7794 15.3107 16.0607C15.0294 16.342 14.6478 16.5 14.25 16.5H3.75C3.35218 16.5 2.97064 16.342 2.68934 16.0607C2.40804 15.7794 2.25 15.3978 2.25 15V6.75Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6.75 16.5V9H11.25V16.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Homepage</span>
        </a>
        <a href="https://www.genuineblanks.com/pages/instant-quote" class="nav-link">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.5 3H4.5C3.67157 3 3 3.67157 3 4.5V13.5C3 14.3284 3.67157 15 4.5 15H13.5C14.3284 15 15 14.3284 15 13.5V4.5C15 3.67157 14.3284 3 13.5 3Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6 7.5H12M6 10.5H12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span>Pricing Calculator</span>
        </a>
      </nav>

      {%- comment -%} Right: Account Login + Theme Toggle {%- endcomment -%}
      <div class="standalone-header__right">
        {% if customer %}
          <a href="/account" class="nav-link nav-link--highlight">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15 15.75V14.25C15 13.4544 14.6839 12.6913 14.1213 12.1287C13.5587 11.5661 12.7956 11.25 12 11.25H6C5.20435 11.25 4.44129 11.5661 3.87868 12.1287C3.31607 12.6913 3 13.4544 3 14.25V15.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="9" cy="5.25" r="3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Dashboard</span>
          </a>
        {% else %}
          <a href="/account/login" class="nav-link nav-link--highlight">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 12.75L15.75 9M15.75 9L12 5.25M15.75 9H6.75M6.75 2.25H5.25C4.85218 2.25 4.47064 2.40804 4.18934 2.68934C3.90804 2.97064 3.75 3.35218 3.75 3.75V14.25C3.75 14.6478 3.90804 15.0294 4.18934 15.3107C4.47064 15.592 4.85218 15.75 5.25 15.75H6.75" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Account Login</span>
          </a>
        {% endif %}

        <div class="standalone-header__theme-toggle">
          <button
            type="button"
            class="theme-btn theme-btn--light"
            data-theme-set="light"
            aria-label="Switch to light mode"
          >
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="9" cy="9" r="3.5" stroke="currentColor" stroke-width="1.5"/>
              <path d="M9 1.5V2.5M9 15.5V16.5M16.5 9H15.5M2.5 9H1.5M14.303 3.697L13.596 4.404M4.404 13.596L3.697 14.303M14.303 14.303L13.596 13.596M4.404 4.404L3.697 3.697" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
            <span>Light</span>
          </button>
          <button
            type="button"
            class="theme-btn theme-btn--dark"
            data-theme-set="dark"
            aria-label="Switch to dark mode"
          >
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.513 11.763A7 7 0 116.237 2.487a7.001 7.001 0 009.276 9.276z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Dark</span>
          </button>
        </div>
      </div>

    </div>
  </div>

  {%- comment -%} Main Content Container {%- endcomment -%}
  <div class="techpack-v11__container">

    {%- comment -%} Header Section {%- endcomment -%}
    <header class="techpack-v11__header">
      <div class="techpack-v11__logo">
        {% if section.settings.logo_image != blank %}
          <img
            src="{{ section.settings.logo_image | image_url: width: 200 }}"
            alt="{{ shop.name }}"
            width="200"
            height="auto"
            loading="eager"
          >
        {% else %}
          <h1 class="techpack-v11__logo-text">{{ shop.name }}</h1>
        {% endif %}
      </div>

      <div class="techpack-v11__headline">
        <h2 class="techpack-v11__title">
          {% if section.settings.headline != blank %}
            {{ section.settings.headline }}
          {% else %}
            TechPack Studio
          {% endif %}
        </h2>
        <p class="techpack-v11__subtitle">
          {% if section.settings.subheadline != blank %}
            {{ section.settings.subheadline }}
          {% else %}
            Professional garment production requests in minutes
          {% endif %}
        </p>
        <div class="techpack-v11__value-props">
          <span class="value-prop">Direct manufacturer access</span>
          <span class="value-prop-dot">•</span>
          <span class="value-prop">50pc MOQ</span>
          <span class="value-prop-dot">•</span>
          <span class="value-prop">Premium SaaS platform</span>
        </div>
      </div>
    </header>

    {%- comment -%} Request Type Selection Cards {%- endcomment -%}
    <div class="techpack-v11__cards">

      {%- comment -%} Quotation Card {%- endcomment -%}
      <article class="techpack-card" data-request-type="quotation">
        <div class="techpack-card__icon">
          <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="8" y="12" width="32" height="28" rx="2" stroke="currentColor" stroke-width="2"/>
            <path d="M14 20H34M14 26H28M14 32H24" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M8 12L12 8L16 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>

        <div class="techpack-card__content">
          <h3 class="techpack-card__title">Request Quotation</h3>
          <p class="techpack-card__description">
            Get detailed pricing for your custom garment designs. Perfect for exploring production costs and planning budgets.
          </p>

          <ul class="techpack-card__features">
            <li class="techpack-card__feature">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Fast pricing estimates</span>
            </li>
            <li class="techpack-card__feature">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>No account required</span>
            </li>
            <li class="techpack-card__feature">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>MOQ: 75+ pieces per design</span>
            </li>
          </ul>
        </div>

        <button
          type="button"
          class="techpack-card__button button-primary"
          data-action="start-quotation"
        >
          Start Quotation
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </article>

      {%- comment -%} Sample Card {%- endcomment -%}
      <article class="techpack-card" data-request-type="sample">
        <div class="techpack-card__icon">
          <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 8L24 4L32 8M16 8L24 12M16 8V20L24 24M32 8L24 12M32 8V20L24 24M24 12V24M24 24L16 28V40L24 44M24 24L32 28V40L24 44" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>

        <div class="techpack-card__content">
          <h3 class="techpack-card__title">Order Sample</h3>
          <p class="techpack-card__description">
            Request physical prototypes to validate fit, fabric, and construction before bulk production.
          </p>

          <ul class="techpack-card__features">
            <li class="techpack-card__feature">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Stock or custom samples</span>
            </li>
            <li class="techpack-card__feature">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Custom colors & fabrics</span>
            </li>
            <li class="techpack-card__feature">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Account required</span>
            </li>
          </ul>
        </div>

        <button
          type="button"
          class="techpack-card__button button-primary"
          data-action="start-sample"
          data-requires-login="true"
        >
          Order Sample
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </article>

      {%- comment -%} Bulk Order Card {%- endcomment -%}
      <article class="techpack-card" data-request-type="bulk">
        <div class="techpack-card__icon">
          <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="6" y="10" width="16" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
            <rect x="26" y="10" width="16" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
            <rect x="6" y="30" width="16" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
            <rect x="26" y="30" width="16" height="16" rx="2" stroke="currentColor" stroke-width="2"/>
          </svg>
        </div>

        <div class="techpack-card__content">
          <h3 class="techpack-card__title">Place Bulk Order</h3>
          <p class="techpack-card__description">
            Start production on approved samples. Full size runs with detailed quantity breakdowns for each design.
          </p>

          <ul class="techpack-card__features">
            <li class="techpack-card__feature">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Approved samples required</span>
            </li>
            <li class="techpack-card__feature">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Complete size breakdowns</span>
            </li>
            <li class="techpack-card__feature">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M13.333 4L6 11.333L2.667 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <span>Account required</span>
            </li>
          </ul>
        </div>

        <button
          type="button"
          class="techpack-card__button button-primary"
          data-action="start-bulk"
          data-requires-login="true"
        >
          Place Bulk Order
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </article>

    </div>

    {%- comment -%} Footer Information {%- endcomment -%}
    <footer class="techpack-v11__footer">
      <div class="techpack-v11__footer-content">
        <div class="techpack-info-badge">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="1.5"/>
            <path d="M10 14V10M10 6H10.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <span>All requests auto-saved. Resume anytime.</span>
        </div>

        {% if section.settings.show_support_link %}
          <a href="{{ section.settings.support_link | default: '/pages/contact' }}" class="techpack-v11__support-link">
            Need help? Contact support
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        {% endif %}
      </div>
    </footer>

  </div>

  {%- comment -%} Modals {%- endcomment -%}
  {% render 'techpack-v11-modal-access' %}

  {%- comment -%} Customer Data for JavaScript {%- endcomment -%}
  <script>
    window.TECHPACK_V11_CUSTOMER = {
      isLoggedIn: {{ customer | json }} !== null,
      {% if customer %}
      id: {{ customer.id | json }},
      email: {{ customer.email | json }},
      name: {{ customer.name | json }},
      companyName: {{ customer.metafields.custom.company_name | json }},
      accessCode: {{ customer.metafields.custom.access_code | json }},
      tags: {{ customer.tags | json }}
      {% else %}
      id: null,
      email: null,
      name: null,
      companyName: null,
      accessCode: null,
      tags: []
      {% endif %}
    };
  </script>

</div>

{% render 'techpack-v11-theme-switcher' %}

<script src="{{ 'techpack-v11-core.js' | asset_url }}" defer></script>
<script src="{{ 'techpack-v11-actions.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "TP V11 Entrance",
  "class": "section-techpack-v11-entrance",
  "settings": [
    {
      "type": "header",
      "content": "Top Bar"
    },
    {
      "type": "url",
      "id": "template_download_url",
      "label": "Techpack Template Download URL",
      "info": "Upload PDF to Shopify Files and paste URL here"
    },
    {
      "type": "header",
      "content": "Branding"
    },
    {
      "type": "image_picker",
      "id": "logo_image",
      "label": "Logo Image"
    },
    {
      "type": "text",
      "id": "headline",
      "label": "Headline",
      "default": "TechPack Studio"
    },
    {
      "type": "textarea",
      "id": "subheadline",
      "label": "Subheadline",
      "default": "Professional garment production requests in minutes"
    },
    {
      "type": "header",
      "content": "Footer"
    },
    {
      "type": "checkbox",
      "id": "show_support_link",
      "label": "Show support link",
      "default": true
    },
    {
      "type": "text",
      "id": "support_link",
      "label": "Support page link",
      "default": "/pages/contact"
    }
  ],
  "presets": [
    {
      "name": "TechPack V11 - Entrance"
    }
  ]
}
{% endschema %}
