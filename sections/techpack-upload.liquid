{% if template.name == 'page' and template.suffix == 'techpack-upload' %}
{{ 'V10-techpack-studios.css' | asset_url | stylesheet_tag }}

<!-- Force Dark Mode - No Light Theme Support -->
<script>
// Immediately force dark mode on page load
document.documentElement.setAttribute('data-theme', 'dark');
document.body.setAttribute('data-theme', 'dark');
</script>

<section id="techpack-upload" class="techpack-step" data-step="1">
  <div class="techpack-container">
    
    <!-- Progress Bar -->
    <div class="techpack-progress">
      <div class="techpack-progress__bar">
        <div class="techpack-progress__fill" style="width: 25%"></div>
      </div>
      <div class="techpack-progress__steps">
        <div class="techpack-progress__step techpack-progress__step--active">
          <div class="techpack-progress__step-circle techpack-progress__step-circle--active">1</div>
          <div class="techpack-progress__step-label">Client Info</div>
        </div>
        <div class="techpack-progress__step">
          <div class="techpack-progress__step-circle">2</div>
          <div class="techpack-progress__step-label">Files</div>
        </div>
        <div class="techpack-progress__step">
          <div class="techpack-progress__step-circle">3</div>
          <div class="techpack-progress__step-label">Garments</div>
        </div>
        <div class="techpack-progress__step">
          <div class="techpack-progress__step-circle">4</div>
          <div class="techpack-progress__step-label">Review</div>
        </div>
      </div>
    </div>

    <div class="techpack-content">
    <form id="v10TechpackForm" action="#" method="POST" enctype="multipart/form-data">
      <!-- Step 1: Basic Information -->
      <div class="v10-step-content active" data-step="1">
        <div class="techpack-header-with-help">
          <div class="techpack-header-content">
            <h2 class="techpack-title">Client Information</h2>
            <p class="techpack-subtitle">Enter your information to begin pricing development</p>
          </div>
        </div>
        
        <div class="v10-form-section" style="grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 18px;">
          <div class="v10-form-field">
            <label for="v10ClientName" class="v10-form-label-enhanced required">CLIENT NAME</label>
            <input type="text" id="v10ClientName" name="clientName" class="v10-form-input-enhanced" required>
          </div>
          
          <div class="v10-form-field">
            <label for="v10CompanyName" class="v10-form-label-enhanced required">COMPANY NAME</label>
            <input type="text" id="v10CompanyName" name="companyName" class="v10-form-input-enhanced" required>
          </div>
        </div>
        
        <div class="v10-form-section" style="grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 18px;">
          <div class="v10-form-field">
            <label for="v10Email" class="v10-form-label-enhanced required">CONTACT EMAIL</label>
            <input type="email" id="v10Email" name="email" class="v10-form-input-enhanced" required>
          </div>
          
          <div class="v10-form-field">
            <label for="v10Phone" class="v10-form-label-enhanced">PHONE NUMBER</label>
            <input type="tel" id="v10Phone" name="phone" class="v10-form-input-enhanced">
          </div>
        </div>
        
        <div class="v10-form-section" style="grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 18px;">
          <div class="v10-form-field">
            <label for="v10Deadline" class="v10-form-label-enhanced">DELIVERY DEADLINE</label>
            <div class="v10-date-wrapper">
              <input
                type="date"
                id="v10Deadline"
                name="deadline"
                class="v10-form-input-enhanced v10-date-input"
                onkeydown="return false"
                onkeypress="return false"
                onpaste="return false"
                min=""
              >
              <span class="v10-date-hint">Select Date ‚Üí</span>
            </div>
          </div>
          
          <div class="v10-form-field">
            <label for="v10VatNumber" class="v10-form-label-enhanced">VAT / EIN N¬∫</label>
            <input type="text" id="v10VatNumber" name="vatNumber" class="v10-form-input-enhanced" placeholder="e.g. GB123456789">
          </div>
        </div>

        <div class="v10-form-field" style="grid-column: span 2;">
          <label for="v10Country" class="v10-form-label-enhanced required">COUNTRY</label>
          <div class="v10-searchable-select" id="v10CountryContainer">
            <input type="text" id="v10Country" name="country" class="v10-form-input-enhanced" placeholder="Type to search countries..." autocomplete="off" required>
            <div class="v10-dropdown-arrow">‚ñº</div>
            <div class="v10-dropdown-list" id="v10CountryDropdown"></div>
          </div>
        </div>
        
        <div class="v10-form-field" style="grid-column: span 2;">
          <label for="v10Notes" class="v10-form-label-enhanced">ADDITIONAL NOTES</label>
          <textarea id="v10Notes" name="notes" rows="4" class="v10-form-textarea-enhanced" placeholder="Specific project details..."></textarea>
        </div>
        
        <!-- Navigation -->
        <div class="techpack-form__actions">
          <button type="button" class="techpack-btn techpack-btn--primary" onclick="V10TechpackForm.nextStep()">
            Continue to Files
            <svg class="techpack-btn__icon" width="16" height="16" viewBox="0 0 16 16">
              <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
          </button>
        </div>
      </div>
      
      <!-- Step 2: File Upload -->
      <div class="v10-step-content" data-step="2">
        <div class="techpack-header-with-help">
          <div class="techpack-header-content">
            <h2 class="techpack-title">File Upload</h2>
            <p class="techpack-subtitle">Upload your technical files for accurate pricing</p>
          </div>
        </div>
        
        <div class="v10-file-upload" onclick="document.getElementById('v10TechpackFiles').click()">
          <div class="v10-file-icon">üìÅ</div>
          <h3 class="v10-file-upload-title">Click to select files</h3>
          <p class="v10-file-upload-subtitle">or drag files here</p>
          <small class="v10-file-upload-info">Accepted formats: PDF, AI, PNG, JPG, ZIP (max. 10MB each)</small>
        </div>
        
        <input type="file" id="v10TechpackFiles" name="files[]" multiple accept=".pdf,.ai,.png,.jpg,.jpeg,.zip" style="display: none;">
        
        <div class="v10-file-list" id="v10FileList"></div>
        
        <!-- Navigation -->
        <div class="techpack-form__actions">
          <button type="button" class="techpack-btn techpack-btn--ghost" onclick="V10TechpackForm.prevStep()">
            <svg class="techpack-btn__icon techpack-btn__icon--left" width="16" height="16" viewBox="0 0 16 16">
              <path d="M10 4L6 8l4 4" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
            Previous
          </button>
          <button type="button" class="techpack-btn techpack-btn--primary" onclick="V10TechpackForm.nextStep()">
            Continue to Garments
            <svg class="techpack-btn__icon" width="16" height="16" viewBox="0 0 16 16">
              <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
          </button>
        </div>
      </div>
      
      <!-- Step 3: Garments & Colors -->
      <div class="v10-step-content" data-step="3">
        
        <!-- Header with Help -->
        <div class="techpack-header-with-help">
          <div class="techpack-header-content">
            <h2 class="techpack-title">Design Studios</h2>
            <p class="techpack-subtitle">Configure garment specifications for accurate pricing</p>
          </div>
          <button type="button" class="techpack-help-btn techpack-help-btn--warning" aria-label="Important information about studios">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
              <line x1="12" y1="9" x2="12" y2="13"/>
              <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
            <span>STUDIO GUIDE</span>
          </button>
        </div>

        <!-- Studio Navigator -->
        <div class="studio-navigator">
          <div class="studio-tabs">
            <button type="button" class="studio-tab studio-tab--active" data-studio="garment" id="garment-studio-tab">
              <div class="studio-tab__icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z"/>
                  <line x1="16" y1="8" x2="2" y2="22"/>
                  <line x1="17.5" y1="15" x2="9" y2="15"/>
                </svg>
              </div>
              <div class="studio-tab__content">
                <span class="studio-tab__title">Garment Studio</span>
                <span class="studio-tab__subtitle">Configure specifications</span>
              </div>
            </button>
          </div>
        </div>

        <!-- Studio 1: Garment Specifications -->
        <div class="studio-container studio-container--active" id="garment-studio">
          <div class="studio-header">
            <div class="studio-header__content">
              <h3 class="studio-header__title">Garment Studio</h3>
              <span class="studio-header__badge studio-header__badge--professional">PROFESSIONAL</span>
            </div>
            <button type="button" class="studio-help-btn" data-help="garment-studio">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                <circle cx="12" cy="17" r="1"/>
              </svg>
            </button>
          </div>

          <div class="studio-content">
            
            <!-- Garments Container -->
            <div class="garments-grid" id="garments-container">
              <!-- Garments will be dynamically added here -->
            </div>

            <!-- Add Garment Button -->
            <div class="add-garment-section">
              <button type="button" class="add-garment-btn" id="add-garment">
                <div class="add-garment-btn__icon">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19"/>
                    <line x1="5" y1="12" x2="19" y2="12"/>
                  </svg>
                </div>
                <div class="add-garment-btn__text">
                  <span class="add-garment-btn__title">Add Garment</span>
                  <span class="add-garment-btn__subtitle">Configure additional specifications</span>
                </div>
              </button>
            </div>

          </div>
        </div>
        
        <!-- Navigation -->
        <div class="techpack-form__actions">
          <button type="button" class="techpack-btn techpack-btn--ghost" onclick="V10TechpackForm.prevStep()">
            <svg class="techpack-btn__icon techpack-btn__icon--left" width="16" height="16" viewBox="0 0 16 16">
              <path d="M10 4L6 8l4 4" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
            Previous
          </button>
          <button type="button" class="techpack-btn techpack-btn--primary" onclick="V10TechpackForm.nextStep()" disabled>
            Next Step
            <svg class="techpack-btn__icon" width="16" height="16" viewBox="0 0 16 16">
              <path d="M6 12l4-4-4-4" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
          </button>
        </div>
      </div>
      
      <!-- Step 4: Review & Submit -->
      <div class="v10-step-content" data-step="4">
        <div class="techpack-header-with-help">
          <div class="techpack-header-content">
            <h2 class="techpack-title">Final Review</h2>
            <p class="techpack-subtitle">Review your specifications before submitting</p>
          </div>
        </div>
        
        <div id="v10SummaryContainer"></div>
        
        <!-- Navigation -->
        <div class="techpack-form__actions">
          <button type="button" class="techpack-btn techpack-btn--ghost" onclick="V10TechpackForm.prevStep()">
            <svg class="techpack-btn__icon techpack-btn__icon--left" width="16" height="16" viewBox="0 0 16 16">
              <path d="M10 4L6 8l4 4" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
            Previous
          </button>
          <button type="submit" class="techpack-btn techpack-btn--primary">
            Submit Techpack
            <svg class="techpack-btn__icon" width="16" height="16" viewBox="0 0 16 16">
              <path d="M2 8l4 4 8-8" stroke="currentColor" stroke-width="2" fill="none"/>
            </svg>
          </button>
        </div>
      </div>
      
      <!-- Success Step -->
      <div class="v10-step-content" data-step="5">
        <div class="v10-success-message">
          <div class="v10-success-icon">‚úÖ</div>
          <h2 class="v10-success-title">Techpack Submitted Successfully!</h2>
          <p class="v10-success-text">Thank you for your request. You will receive a confirmation email shortly.</p>
          <p class="v10-success-text">Our team will contact you within the next 24 hours.</p>
          <button type="button" class="techpack-btn techpack-btn--primary" onclick="V10TechpackForm.resetForm()" style="margin-top: 25px;">New Techpack</button>
        </div>
      </div>
    </form>

    </div>
  </div>
</section>

<!-- Template removed - Using unified template in techpack-v10-step-3-garment-specs.liquid -->

<script>
// Initialize V10 TechPack Form when loaded
document.addEventListener('DOMContentLoaded', function() {
  if (typeof window.V10TechpackForm !== 'undefined') {
    window.V10TechpackForm.init();
  }
});
</script>

{% endif %}