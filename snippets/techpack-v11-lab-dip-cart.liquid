{% comment %}
  TechPack V11 - Lab Dip Cart Sidebar

  Persistent sidebar showing Pantone lab dip swatches added for ordering
  Features: Price calculation, garment assignment tracking, remove items
  Always visible but empty until Pantone colors added
{% endcomment %}

<div class="lab-dip-cart" id="labDipCart">

  {%- comment -%} Header with Prominent Browse Button {%- endcomment -%}
  <div class="lab-dip-cart__header">
    <div class="lab-dip-cart__header-top">
      <h3 class="lab-dip-cart__title">Lab Dip Cart</h3>
      <span class="cart-badge cart-badge--header" id="labDipCartBadge" style="display: none;">0</span>
    </div>
    <button
      type="button"
      class="lab-dip-cart__browse-btn lab-dip-cart__browse-btn--prominent"
      data-action="open-color-studio-standalone"
      title="Browse Pantone colors"
    >
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
        <circle cx="7" cy="7" r="5" stroke="currentColor" stroke-width="1.5" fill="none"/>
        <circle cx="13" cy="13" r="5" stroke="currentColor" stroke-width="1.5" fill="none"/>
      </svg>
      <span class="lab-dip-cart__browse-btn-text">Browse Pantone Colors</span>
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
        <path d="M6 3L11 8L6 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </div>

  {%- comment -%} Cart Content {%- endcomment -%}
  <div class="lab-dip-cart__content" id="labDipCartContent">

    {%- comment -%} Empty State with Large CTA {%- endcomment -%}
    <div class="lab-dip-cart__empty" id="labDipCartEmpty">
      <svg class="lab-dip-cart__empty-icon" width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="40" cy="28" r="8" stroke="currentColor" stroke-width="3" fill="none"/>
        <circle cx="52" cy="40" r="8" stroke="currentColor" stroke-width="3" fill="none"/>
        <circle cx="28" cy="40" r="8" stroke="currentColor" stroke-width="3" fill="none"/>
        <circle cx="40" cy="52" r="8" stroke="currentColor" stroke-width="3" fill="none"/>
      </svg>
      <h4 class="lab-dip-cart__empty-title">Ready to Choose Colors?</h4>
      <p class="lab-dip-cart__empty-hint">
        Browse our complete Pantone color library and add lab dip swatches to your order.
      </p>

      {%- comment -%} Large Primary CTA Button {%- endcomment -%}
      <button
        type="button"
        class="lab-dip-cart__cta-btn"
        data-action="open-color-studio-standalone"
        title="Open Pantone Color Studio"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="9" cy="9" r="6" stroke="currentColor" stroke-width="2" fill="none"/>
          <circle cx="15" cy="15" r="6" stroke="currentColor" stroke-width="2" fill="none"/>
        </svg>
        Browse Pantone Colors
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M7 4L13 10L7 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>

      <p class="lab-dip-cart__empty-note">
        ðŸ’¡ Lab dips cost â‚¬25.00 per swatch
      </p>
    </div>

    {%- comment -%} Cart Instructions Card (shown when cart has items) {%- endcomment -%}
    <div class="lab-dip-cart__instructions-card" id="labDipCartInstructions" style="display: none;">
      <div class="lab-dip-instructions-card__header">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
          <circle cx="10" cy="10" r="8" stroke="currentColor" stroke-width="1.5"/>
          <path d="M10 6V10M10 14H10.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <h4>How to Use Lab Dips</h4>
      </div>

      <div class="lab-dip-instructions-card__methods">
        <div class="instruction-method">
          <div class="instruction-method__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M7 7h10M7 12h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M12 7v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <circle cx="12" cy="17" r="2" fill="currentColor"/>
            </svg>
          </div>
          <div class="instruction-method__content">
            <h5>Method 1: Drag & Drop</h5>
            <p>Drag swatches from this cart onto garment cards below</p>
          </div>
        </div>

        <div class="instruction-method">
          <div class="instruction-method__icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <circle cx="8" cy="8" r="4" stroke="currentColor" stroke-width="1.5"/>
              <circle cx="16" cy="16" r="4" stroke="currentColor" stroke-width="1.5"/>
            </svg>
          </div>
          <div class="instruction-method__content">
            <h5>Method 2: Via Garment Button</h5>
            <p>Click "Pantone Colors" button on each garment to browse and assign</p>
          </div>
        </div>
      </div>

      <div class="lab-dip-instructions-card__note">
        ðŸ’¡ Unassigned lab dips will be ordered as standalone fabric swatches (â‚¬25.00 each)
      </div>
    </div>

    {%- comment -%} Cart Items (Populated by JavaScript) {%- endcomment -%}
    <div class="lab-dip-cart__items" id="labDipCartItems" style="display: none;">
      {%- comment -%} Lab dip cards populated by JS {%- endcomment -%}
    </div>

  </div>

  {%- comment -%} Cart Total {%- endcomment -%}
  <div class="lab-dip-cart__total" id="labDipCartTotal">
    Total: â‚¬0.00
  </div>

</div>
