{% comment %}
  TechPack V11 - Access Code Modal
  Purpose: Modal for registered clients to enter access code
  Triggered: When clicking Sample/Bulk without being logged in
{% endcomment %}

<div
  class="techpack-modal"
  id="modalAccessCode"
  data-modal-id="modalAccessCode"
  role="dialog"
  aria-modal="true"
  aria-labelledby="modalAccessCode-title"
  aria-hidden="true"
  style="display: none;"
>
  {%- comment -%} Backdrop {%- endcomment -%}
  <div class="techpack-modal__backdrop" data-modal-close="modalAccessCode"></div>

  {%- comment -%} Modal Container {%- endcomment -%}
  <div class="techpack-modal__container techpack-modal__container--sm">

    {%- comment -%} Modal Header {%- endcomment -%}
    <div class="techpack-modal__header">
      <div class="techpack-modal__icon techpack-modal__icon--info">
        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16 21.333V16M16 10.667H16.013" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="16" cy="16" r="12" stroke="currentColor" stroke-width="2"/>
        </svg>
      </div>

      <h3 class="techpack-modal__title" id="modalAccessCode-title">
        Access Required
      </h3>

      <button
        type="button"
        class="techpack-modal__close"
        data-modal-close="modalAccessCode"
        aria-label="Close modal"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>

    {%- comment -%} Modal Body {%- endcomment -%}
    <div class="techpack-modal__body">
      <p class="techpack-modal__description">
        This feature is available to registered clients only. Please enter your access code to continue.
      </p>

      {%- comment -%} Access Code Form {%- endcomment -%}
      <form class="techpack-access-form" id="accessCodeForm">
        <div class="form-group">
          <label for="accessCodeInput" class="form-label">
            Access Code
          </label>
          <input
            type="text"
            id="accessCodeInput"
            name="access_code"
            class="form-input"
            placeholder="Enter your access code"
            required
            autocomplete="off"
            data-validation="access-code"
          >
          <div class="form-error" id="accessCodeError" aria-live="polite"></div>
          <p class="form-help">
            Your unique access code was provided during registration.
          </p>
        </div>

        <div class="form-actions">
          <button
            type="button"
            class="button-secondary"
            data-modal-close="modalAccessCode"
          >
            Cancel
          </button>
          <button
            type="submit"
            class="button-primary"
            data-action="verify-access-code"
          >
            Verify & Continue
          </button>
        </div>
      </form>

      {%- comment -%} Help Section {%- endcomment -%}
      <div class="techpack-modal__help">
        <p class="text-sm text-secondary">
          Don't have an access code?
          <a href="/account/register" class="link-primary">Register here</a>
          or
          <a href="/pages/contact" class="link-primary">contact support</a>.
        </p>
      </div>
    </div>

  </div>
</div>
